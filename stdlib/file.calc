link "/usr/lib/libc.so.6"

extern fopen = fopen(string, string): ptr
extern fputs = fputs(string, ptr): int

struct File {
    path,
    perm,
    fptr,
    str,
    create(self) = {
        if (self.perm == None) {
            self.perm = "wb"
        }
        self.fptr = fopen(self.path, self.perm)
        assert(self.fptr != None)
    }

    write(self, value) = {
        self.str = "{value}"
        fputs(self.str, self.fptr)
    }
}
